<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App</title>
</head>

<body>

    <input type="text" class="input" placeholder="Enter task">
    <button class="addTask">Add Task</button>
    <div class="complete-task"></div>

    <script>

        const input = document.querySelector(".input");
        const addTaskbtn = document.querySelector(".addTask");
        const taskDiv = document.querySelector(".complete-task");

        let tasks = []; //storing tasks in the task array

        //  RENDER UI using forEach
        function renderTasks() {
            taskDiv.innerHTML = ""; // clear UI

            tasks.forEach((task) => {
                const div = document.createElement("div");

                div.innerHTML = `
                    <h3 style="display:inline; ${task.completed ? "text-decoration: line-through; color:black;" : ""}">
                        ${task.text}
                    </h3>
                    <button onclick="toggleTask(${task.id})">âœ…</button>
                    <button onclick="removeTask(${task.id})">ðŸ—‘</button>
                `;
                taskDiv.appendChild(div);
            });
        }

        //  ADD TASK
        function addNewTask() {
            const inputValue = input.value.trim();
            if (!inputValue) return alert("Enter a task!");
            //we are making an object with task name its id and its status whether completed or not
            const newTask = {
                id: Date.now(), // unique id
                text: inputValue,
                completed: false
            };

            tasks = [...tasks, newTask]; // updating the tasks array with newTask object and also using spread operator so its doent modifiy original
            input.value = ""; //clearing the input value
            renderTasks();
        }

        // TOGGLE using map()
        function toggleTask(id) {
            tasks = tasks.map((task) =>
                task.id === id ? { ...task, completed: !task.completed } : task
            );
            renderTasks();
        }

        // REMOVE TASK using filter()
        function removeTask(id) {
            tasks = tasks.filter((task) => task.id !== id);
            renderTasks();
        }

        addTaskbtn.addEventListener("click", addNewTask);

    </script>

</body>

</html>